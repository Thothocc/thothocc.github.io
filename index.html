<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <title>Merry Christmas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/cover.css">
</head>
<body>

<div id="cover">
  <img
    id="cover-bg"
    src="images/cover.jpg?v=1"
    alt="Christmas cover background">

  <h1 class="title">
    Merry Christmas<br>
    <span class="subtitle">0705pprr</span>
  </h1>

  <!-- ç‚¹å‡»è·³è½¬ -->
  <a class="gift"
     href="tree.html"
     aria-label="Open Christmas Tree">
    ğŸ
  </a>

  <!-- éŸ³ä¹æ§åˆ¶æŒ‰é’® -->
  <button id="music-btn" aria-label="Toggle Music">ğŸµ</button>
</div>

<!-- èƒŒæ™¯éŸ³ä¹ -->
<audio id="bgm" src="audio/christmas.mp3" autoplay loop></audio>

<script>
  // éŸ³ä¹æ’­æ”¾æ ‡è®°
  if (!localStorage.getItem("playMusic")) localStorage.setItem("playMusic","1");

  const bgm = document.getElementById("bgm");
  const btn = document.getElementById("music-btn");

  // é¡µé¢åŠ è½½è‡ªåŠ¨æ’­æ”¾
  if(localStorage.getItem("playMusic")==="1") bgm.play().catch(()=>{});

  // æ ¹æ®æ’­æ”¾çŠ¶æ€è®¾ç½®æŒ‰é’®ç¬¦å·
  function updateBtn(){
    btn.textContent = bgm.paused ? "â¸ï¸" : "ğŸµ";
  }
  updateBtn();

  btn.addEventListener("click", ()=>{
    if(bgm.paused){
      bgm.play().catch(()=>{});
      localStorage.setItem("playMusic","1");
    } else {
      bgm.pause();
      localStorage.setItem("playMusic","0");
    }
    updateBtn();
  });
</script>

</body>
</html>
