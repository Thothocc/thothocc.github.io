/* ===== 背景 ===== */
#background {
  position: fixed;
  inset: 0;
  background: url("../images/tree/background.jpg") center / cover no-repeat;
  z-index: -1;
}

/* ===== 雪花 ===== */
#snow {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 2;
}

/* ===== 场景 ===== */
#scene {
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  perspective: 900px;
}

/* 移动端透视 */
@media (max-width: 768px) {
  #scene {
    perspective: 600px;
  }
}

/* ===== 树 ===== */
#tree {
  position: relative;
  transform-style: preserve-3d;
  will-change: transform;
}

/* ===== 照片 ===== */
.photo {
  position: absolute;
  transform-style: preserve-3d;
  backface-visibility: hidden;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}

.photo.active {
  box-shadow: 0 0 15px rgba(255,255,255,0.8);
}

/* ===== 星星 ===== */
#star {
  position: absolute;
  top: 20%;
  left: 50%;
  transform: translateX(-50%);
  font-size: 2.5rem;
  z-index: 3;
}

/* ===== 查看器 ===== */
#viewer {
  position: fixed;
  inset: 0;
  display: none;
  justify-content: center;
  align-items: center;
  background: rgba(0,0,0,0.6);
  z-index: 5;
}

#viewer.show {
  display: flex;
}

#viewer-img {
  max-width: 90%;
  max-height: 90%;
  box-shadow: 0 0 20px rgba(255,255,255,0.8);
  border-radius: 8px;
}

/* ===== 移动端适配安全区 ===== */
@supports(padding: env(safe-area-inset-top)) {
  body {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}
